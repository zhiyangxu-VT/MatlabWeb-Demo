<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <title>MatlabWeb-Demo</title>
</head>

<body>
    <div style="max-width:40em">
        <div class="w3-padding w3-left-align w3-xlarge w3-margin-right w3-margin-left w3-margin-bottom w3-card" id="title">
            <a>MatlabWeb-Demo: Basic Image Processing</a>
        </div>

        <div id="action_display" class="w3-card w3-margin w3-padding-small">
            <input type="file" id="imageFile" onchange="analyseImage()">
        </div>

        <div class="w3-card w3-margin" id="image_display">
        </div>

        <div class="w3-card w3-margin" id="resual_display">
        </div>
    </div>

    <script>
        function analyseImage() {
            var x = document.getElementById("imageFile");
            var file = x.files[0];
            var formData = new FormData();
            
            if(!file.type.match('image.*')) {
                //Error
            }
            
            formData.append('file', file, file.name);

            var xhr = new XMLHttpRequest();
            xhr.open('POST', 'upload_handler.php', true);
            xhr.onload = function() {
                if(xhr.status === 200) {
                    //Upload Success
                } else {
                    alert('An error occurred, upload failed!');
                }
            }

            xhr.send(formData);
        }
    </script>
</body>

</html>
